import{r as p,j as a,a as F}from"./index-99225c5a.js";import{c as R,a as m,u as $}from"./formik.esm-61ab1a81.js";import{m as I}from"./modal-ce0b874b.js";import"./sweetalert2.all-7a2e22d8.js";function L(){var g,x,b,j,w,N,y,S,q;const[o,u]=p.useState(),[l,h]=p.useState(),[d,c]=p.useState(null),E=R({name:m().required("name should be required").matches(/^[\w\s]{1,}$/,"name at least 3 character [alpha,nuerice,_"),email:m().email("invalid email").required("email should be required").matches(/^[\w\W]+@gmail\.com$/,"invalid email"),password:m().required("password should be required").matches(/^(?=.*\d)(?=.*[a-zA-Z])(?=.*\W)[\w\W]{8,}$/,"invalid password should at least 8 chareacter and one number , one charater one special")}),e=$({initialValues:{name:null,email:null,password:null},validationSchema:E,onSubmit:async s=>{var t,i,r,B;try{const n=new FormData;if(!l)return c("required feild");s.name&&s.email&&s.password&&l&&(n.append("name",s==null?void 0:s.name),n.append("email",s==null?void 0:s.email),n.append("password",s==null?void 0:s.password),n.append("image",l));const C=await F.post("https://ecomerce-kmcp.onrender.com/auth/register",n);I(C.data.status,"Registration",C.data.message)}catch(n){n&&I((i=(t=n==null?void 0:n.response)==null?void 0:t.data)==null?void 0:i.status,"Registration",(B=(r=n==null?void 0:n.response)==null?void 0:r.data)==null?void 0:B.message)}}});return a.jsx("section",{className:"row w-100 m-0 flex-grow-1 my-4 justify-content-center align-items-start p-3",children:a.jsxs("form",{onSubmit:s=>{s.preventDefault(),e.handleSubmit()},children:[a.jsxs("div",{className:"input-group mb-3",children:[a.jsx("span",{className:"input-group-text",id:"basic-addon1",children:"Name"}),a.jsx("input",{type:"text",className:"form-control",name:"name",id:"exampleInputname1","aria-describedby":"emailHelp",onChange:e==null?void 0:e.handleChange,onBlur:e==null?void 0:e.handleBlur}),a.jsx("div",{className:"invalid-feedback",children:((g=e==null?void 0:e.touched)==null?void 0:g.name)&&((x=e==null?void 0:e.errors)==null?void 0:x.name)&&((b=e==null?void 0:e.errors)==null?void 0:b.name)})]}),a.jsx("p",{className:"p-0"}),a.jsxs("div",{className:"input-group mb-3",children:[a.jsx("span",{className:"input-group-text",id:"basic-addon1",children:"Email"}),a.jsx("input",{type:"email",className:"form-control",name:"email",id:"exampleInputEmail1","aria-describedby":"emailHelp",onChange:e==null?void 0:e.handleChange,onBlur:e==null?void 0:e.handleBlur}),a.jsx("div",{className:"invalid-feedback",children:((j=e==null?void 0:e.touched)==null?void 0:j.email)&&((w=e==null?void 0:e.errors)==null?void 0:w.email)&&((N=e==null?void 0:e.errors)==null?void 0:N.email)})]}),a.jsxs("div",{className:"input-group mb-3",children:[a.jsx("span",{className:"input-group-text",id:"basic-addon1",children:"Password"}),a.jsx("input",{type:"password",className:"form-control",name:"password",id:"exampleInputPassword1",onChange:e==null?void 0:e.handleChange,onBlur:e==null?void 0:e.handleBlur}),a.jsx("div",{className:"invalid-feedback",children:((y=e==null?void 0:e.touched)==null?void 0:y.password)&&((S=e==null?void 0:e.errors)==null?void 0:S.password)&&((q=e==null?void 0:e.errors)==null?void 0:q.password)})]}),a.jsxs("div",{className:"input-group mb-3",children:[a.jsx("input",{type:"file",className:"form-control",name:"image",id:"exampleInputFile1",onChange:s=>{if(s.target.files){const t=s.target.files[0],i=["image/jpeg","image/png","image/jpg"];if(t)if(i.includes(t.type)){const r=URL.createObjectURL(t);h(s.target.files[0]),u(r),c(null)}else u(null),h(null),c("invalid file only png jpg jpeg")}}}),a.jsx("div",{className:"invalid-feedback",children:d&&d})]}),o&&!d&&a.jsx("img",{src:o,style:{width:"150px",height:"150px",display:"block",marginBottom:"10px"},alt:"presonal Image"}),a.jsx("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})})}export{L as default};
